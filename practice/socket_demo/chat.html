<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>socket.io demo</title>
</head>
<body>
<h1>socket.io模块实现即时通讯示例</h1>
我说：
<div id="say"></div>
她说：
<div id="reply"></div>
<script src='../tools/socket.io-client-master/dist/socket.io.js'></script>
<script>
  //  var socket = io('http://localhost:88/')
  var socket = io.connect() //与服务端建立长轮询
  socket.on('connect', function () {
    console.log('success')
  })
  socket.on('event', function (data) {
    document.querySelector('#reply').innerText = data
    console.log(data)
  })
  socket.on('disconnect', function () {
    console.log('disconnect')
  })
  setTimeout(function () {
    socket.emit('foo', 'I love you !')
    document.querySelector('#say').innerText = 'I love you !'
  }, 3000)
</script>
</body>
</html>